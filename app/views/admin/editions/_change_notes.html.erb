<fieldset class="js-change-notes">
  <h3 class="remove-top-margin">Do users need to know the content has changed?</h3>
  <p class="hint">Choose yes to notify users of the change. Telling users when published information changes is important for transparency.</p>

  <% if edition.allows_attachments? && edition.has_attachment_changes? %>
    <div class="alert alert-info">
      <h4> Attachments you've added, changed or deleted </h4>
      <ul class="govuk-list">
        <% edition.created_attachments.each do |attachment| %>
          <li><%= "#{attachment.title} - #{attachment.readable_type} attachment" %> <span class="label label-success">Created</span></li>
        <% end %>
        <% edition.updated_attachments.each do |attachment| %>
          <li><%= "#{attachment.title} - #{attachment.readable_type} attachment" %> <span class="label label-warning">Updated</span></li>
        <% end %>
        <% edition.deleted_attachments.each do |attachment| %>
          <li><%= "#{attachment.title} - #{attachment.readable_type} attachment" %> <span class="label label-danger">Deleted</span></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="radio">
    <%= form.label :minor_change_false do %>
      <%= form.radio_button(:minor_change, false) %>
      <strong>Yes - information has been added, updated or removed</strong>
      <p class="hint">An update will be published on the page and emailed to subscribers. The 'last updated' date will change.</p>
    <% end %>
  </div>
  <div class="js-change-notes-section">
    <div class="form-group">
      <%= form.text_area(:change_note, rows: 4, label_text: "Describe the change for users", class: 'form-control') %>
    </div>
  </div>
  <div class="radio">
    <%= form.label :minor_change_true do %>
      <%= form.radio_button(:minor_change, true) %>
      <strong>No - it's a minor edit that does not change the meaning, for example a style update</strong>
    <% end %>
  </div>
</fieldset>
